graph TB
    %% Source Code Management
    subgraph "Source Code and Content"
        MD[📝 Markdown Files<br/>27 chapters in docs/]
        MMD[🎨 Mermaid Diagrams<br/>images/*.mmd]
        PY[🐍 Python Scripts<br/>generate_book.py]
        SH[⚙️ Build Scripts<br/>build_book.sh]
        YAML[📋 Configuration<br/>pandoc.yaml]
    end

    %% GitHub Repository
    subgraph "GitHub Repository"
        REPO[📦 Git Repository<br/>Version Control]
        GHA[🔄 GitHub Actions<br/>CI/CD Workflows]
    end

    %% Build Pipeline
    subgraph "Build Pipeline"
        subgraph "Environment Setup"
            PYTHON[🐍 Python 3.12]
            PANDOC[📖 Pandoc 3.1.9]
            LATEX[📄 XeLaTeX + TeXLive]
            CHROME[🌐 Chrome + Mermaid CLI]
        end
        
        subgraph "Build Process"
            GEN[🔧 Content Generation<br/>generate_book.py]
            CONV[🎨 Diagram Conversion<br/>*.mmd → *.png]
            BUILD[📚 PDF Build<br/>Pandoc + Eisvogel]
            VAL[✅ Validation<br/>Quality Control]
        end
    end

    %% Output Formats
    subgraph "Output Formats"
        PDF[📕 PDF Book<br/>architecture_as_code.pdf]
        EPUB[📱 EPUB Format<br/>E-readers]
        DOCX[📄 Word Document<br/>Editing]
        HTML[🌐 HTML Pages<br/>Whitepapers]
        PPTX[📊 PowerPoint<br/>Presentations]
    end

    %% Distribution
    subgraph "Distribution"
        REL[🚀 GitHub Releases<br/>Automatic Publishing]
        ART[📦 Build Artifacts<br/>30-day Storage]
        DOWN[⬇️ Downloads<br/>PDF and Materials]
    end

    %% Data Flow
    MD --> REPO
    MMD --> REPO
    PY --> REPO
    SH --> REPO
    YAML --> REPO
    
    REPO --> GHA
    GHA --> PYTHON
    GHA --> PANDOC
    GHA --> LATEX
    GHA --> CHROME
    
    PYTHON --> GEN
    CHROME --> CONV
    PANDOC --> BUILD
    LATEX --> BUILD
    
    GEN --> VAL
    CONV --> BUILD
    BUILD --> VAL
    
    VAL --> PDF
    VAL --> EPUB
    VAL --> DOCX
    VAL --> HTML
    VAL --> PPTX
    
    PDF --> REL
    EPUB --> ART
    DOCX --> ART
    HTML --> ART
    PPTX --> ART
    
    REL --> DOWN
    ART --> DOWN

    %% Styling
    class MD,MMD,PY,SH,YAML kv-highlight
    class REPO,GHA kv-outline
    class PYTHON,PANDOC,LATEX,CHROME,GEN,CONV,BUILD,VAL kv-accent
    class PDF,EPUB,DOCX,HTML,PPTX kv-primary
    class REL,ART,DOWN kv-pattern